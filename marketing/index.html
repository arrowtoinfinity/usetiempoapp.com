<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tiempo Studio - AI Marketing Gen</title>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <style>
        :root {
            /* Tiempo Design System */
            --color-primary: #007AFF;
            --color-success: #34C759;
            --color-warning: #FF9500;
            --color-danger: #FF3B30;
            --color-purple: #AF52DE;
            --color-bg: #F2F2F7;
            --color-card: #FFFFFF;
            --text-primary: #1C1C1E;
            --text-secondary: #8E8E93;
            
            --gradient-sunrise: linear-gradient(45deg, #1c75bc 0%, #ec008c 30%, #f26522 65%, #f9ed32 100%);
            
            --font-display: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
            --font-body: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'Segoe UI', Roboto, sans-serif;
            
            --shadow-card: 0 4px 12px rgba(0,0,0,0.08);
            --shadow-float: 0 12px 32px rgba(0,0,0,0.12);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: var(--font-body);
            background: #1c1c1e; /* Dark studio background */
            color: white;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* Toolbar */
        header {
            height: 60px;
            background: #2c2c2e;
            border-bottom: 1px solid #3a3a3c;
            display: flex;
            align-items: center;
            padding: 0 2rem;
            justify-content: space-between;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .controls {
            display: flex;
            gap: 1rem;
        }

        button {
            background: #3a3a3c;
            border: none;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: 0.2s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        button:hover { background: #48484a; }
        
        button.primary {
            background: var(--color-primary);
        }
        button.primary:hover { background: #0063d6; }

        /* Workspace */
        .workspace {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #1c1c1e;
            position: relative;
            padding: 2rem;
        }

        .canvas-wrapper {
            box-shadow: 0 0 100px rgba(0,0,0,0.5);
            transition: width 0.3s ease, height 0.3s ease;
        }

        /* The Slide Canvas */
        #canvas {
            width: 1080px;
            height: 1350px; /* Default Post 4:5 */
            background: var(--color-card);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            transform-origin: center center;
        }

        /* --- GENERATED CONTENT STYLES --- */
        
        /* Backgrounds */
        .bg-layer {
            position: absolute;
            inset: 0;
            z-index: 0;
        }
        .bg-layer img { width: 100%; height: 100%; object-fit: cover; }
        .bg-layer.gradient { background: var(--gradient-sunrise); }
        .bg-layer.white { background: var(--color-card); }
        .bg-layer.gray { background: var(--color-bg); }
        
        .overlay {
            position: absolute;
            inset: 0;
            background: rgba(0,0,0,0.3);
            z-index: 1;
        }
        .overlay.gradient-fade {
            background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, transparent 50%);
        }

        /* Content Layer */
        .content-layer {
            position: relative;
            z-index: 10;
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 80px;
        }

        /* Typography */
        .slide-title {
            font-family: var(--font-display);
            font-weight: 800;
            font-size: 4rem;
            line-height: 1.1;
            letter-spacing: -0.02em;
            margin-bottom: 1rem;
        }
        
        .slide-subtitle {
            font-size: 1.8rem;
            font-weight: 500;
            opacity: 0.9;
            line-height: 1.4;
        }

        /* Tiempo UI Components */
        
        /* 1. Event Bubble */
        .event-bubble {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-left: 6px solid var(--bubble-color, var(--color-primary));
            border-radius: 16px;
            padding: 24px;
            box-shadow: var(--shadow-card);
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 24px;
            width: 100%;
            max-width: 600px;
            animation: slideUp 0.6s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        .event-bubble .emoji {
            font-size: 2.5rem;
            background: #f2f2f7;
            width: 64px;
            height: 64px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .event-bubble .details { flex: 1; }
        .event-bubble .title { font-weight: 600; font-size: 1.4rem; color: var(--text-primary); }
        .event-bubble .time { color: var(--text-secondary); font-size: 1.1rem; margin-top: 4px; }

        /* 2. Timeline View */
        .timeline-container {
            position: relative;
            padding-left: 60px;
        }
        .timeline-line {
            position: absolute;
            left: 24px;
            top: 0;
            bottom: 0;
            width: 4px;
            background: #e5e5ea;
            border-radius: 2px;
        }
        
        /* 3. Floating Circles */
        .floating-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: white;
            box-shadow: var(--shadow-float);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            position: absolute;
            animation: float 6s ease-in-out infinite;
        }

        /* 4. Phone Mockup (Simple CSS version) */
        .phone-mockup {
            width: 500px;
            border-radius: 60px;
            border: 12px solid #333;
            background: white;
            overflow: hidden;
            box-shadow: var(--shadow-float);
            margin: 0 auto;
            display: flex;
            flex-direction: column;
        }
        .phone-header {
            height: 40px;
            background: white;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .phone-notch {
            width: 160px;
            height: 28px;
            background: black;
            border-radius: 0 0 20px 20px;
        }
        .phone-screen {
            flex: 1;
            background: var(--color-bg);
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        /* Layouts */
        
        /* Center Text */
        .layout-center { text-align: center; justify-content: center; align-items: center; }
        .layout-center .slide-title { color: white; text-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .layout-center .slide-subtitle { color: rgba(255,255,255,0.9); }

        /* Feature List */
        .layout-feature { align-items: flex-start; justify-content: center; background: var(--color-bg); }
        .layout-feature .slide-title { color: var(--text-primary); font-size: 3.5rem; }
        .layout-feature .slide-subtitle { color: var(--text-secondary); margin-bottom: 3rem; }

        /* UI Spotlight */
        .layout-ui { background: var(--gradient-sunrise); justify-content: center; align-items: center; }
        .layout-ui .slide-title { color: white; margin-bottom: 2rem; text-align: center; }

        /* Animations */
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(40px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        /* Watermark */
        .watermark {
            position: absolute;
            bottom: 60px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            align-items: center;
            gap: 12px;
            opacity: 0.8;
            z-index: 20;
        }
        .watermark img { height: 40px; }
        .watermark span { font-family: var(--font-display); font-weight: 600; font-size: 1.5rem; }
        .dark-watermark span { color: var(--text-primary); }
        .light-watermark span { color: white; }

    </style>
</head>
<body>

    <header>
        <div class="brand">
            <img src="../logo.png" height="32">
            <span>Tiempo Studio</span>
        </div>
        <div class="controls">
            <button onclick="toggleFormat()" id="formatBtn">Post (4:5)</button>
            <button class="primary" onclick="generateSlide()">
                <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"/></svg>
                Generate New
            </button>
            <button onclick="downloadSlide()">
                <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/><path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/></svg>
                Download
            </button>
        </div>
    </header>

    <div class="workspace">
        <div class="canvas-wrapper" id="canvasWrapper">
            <div id="canvas">
                <!-- Content injected via JS -->
            </div>
        </div>
    </div>

    <script>
        // --- DATA ---
        const copy = {
            headlines: [
                "Master Your Day", "Focus & Flow", "Health Meets Calendar", 
                "Your Life, Organized", "Simply Productive", "Wellness First"
            ],
            subtitles: [
                "The AI planner that helps you build better habits.",
                "Schedule your life around your health goals.",
                "Stop juggling apps. Start living.",
                "Smart scheduling for busy professionals."
            ],
            events: [
                { title: "Morning Yoga", time: "7:00 AM - 8:00 AM", emoji: "üßò‚Äç‚ôÄÔ∏è", color: "#FF9500" },
                { title: "Deep Work", time: "9:00 AM - 11:30 AM", emoji: "üíª", color: "#007AFF" },
                { title: "Healthy Lunch", time: "12:00 PM - 1:00 PM", emoji: "ü•ó", color: "#34C759" },
                { title: "Team Sync", time: "2:00 PM - 3:00 PM", emoji: "üë•", color: "#AF52DE" },
                { title: "Evening Run", time: "6:00 PM - 7:00 PM", emoji: "üèÉ‚Äç‚ôÇÔ∏è", color: "#FF3B30" }
            ],
            images: [
                "https://images.unsplash.com/photo-1493770348161-369560ae357d?w=1200&q=80",
                "https://images.unsplash.com/photo-1506126613408-eca07ce68773?w=1200&q=80",
                "https://images.unsplash.com/photo-1434494878577-86c23be5a630?w=1200&q=80",
                "https://images.unsplash.com/photo-1544367563-12123d8965cd?w=1200&q=80",
                "https://images.unsplash.com/photo-1517836357463-d25dfeac3438?w=1200&q=80"
            ]
        };

        const canvas = document.getElementById('canvas');
        const wrapper = document.getElementById('canvasWrapper');
        let currentFormat = 'post';

        // --- SCALE ---
        function fitCanvas() {
            const h = window.innerHeight - 100;
            const w = window.innerWidth - 100;
            const scale = Math.min(h / 1350, w / 1080);
            wrapper.style.transform = `scale(${scale})`;
        }
        window.addEventListener('resize', fitCanvas);
        fitCanvas();

        // --- GENERATORS ---

        function getRandom(arr) { return arr[Math.floor(Math.random() * arr.length)]; }

        // 1. Hero Template (Image + Text)
        function renderHero() {
            const img = getRandom(copy.images);
            const hl = getRandom(copy.headlines);
            const sub = getRandom(copy.subtitles);
            
            return `
                <div class="bg-layer"><img src="${img}" crossorigin="anonymous"></div>
                <div class="overlay gradient-fade"></div>
                <div class="content-layer layout-center">
                    <h1 class="slide-title">${hl}</h1>
                    <p class="slide-subtitle">${sub}</p>
                    <div class="watermark light-watermark">
                        <img src="../logo.png" crossorigin="anonymous">
                        <span>Tiempo</span>
                    </div>
                </div>
            `;
        }

        // 2. Feature List Template (Bubbles)
        function renderFeatures() {
            const hl = "Your day, at a glance.";
            
            let bubbles = '';
            // Pick 3 random events
            const evts = [...copy.events].sort(() => 0.5 - Math.random()).slice(0, 3);
            
            evts.forEach(e => {
                bubbles += `
                    <div class="event-bubble" style="--bubble-color: ${e.color}">
                        <div class="emoji">${e.emoji}</div>
                        <div class="details">
                            <div class="title">${e.title}</div>
                            <div class="time">${e.time}</div>
                        </div>
                    </div>
                `;
            });

            return `
                <div class="bg-layer gray"></div>
                <div class="content-layer layout-feature">
                    <h1 class="slide-title">${hl}</h1>
                    <p class="slide-subtitle">AI-powered scheduling that adapts to you.</p>
                    <div style="width: 100%; display: flex; flex-direction: column; align-items: center;">
                        ${bubbles}
                    </div>
                    <div class="watermark dark-watermark">
                        <img src="../logo.png" crossorigin="anonymous">
                        <span>Tiempo</span>
                    </div>
                </div>
            `;
        }

        // 3. UI Showcase (Phone)
        function renderUI() {
            const evts = copy.events.slice(0, 4);
            let screenContent = '';
            
            evts.forEach(e => {
                screenContent += `
                    <div class="event-bubble" style="padding: 16px; margin-bottom: 12px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); --bubble-color: ${e.color}; border-left-width: 4px;">
                        <div class="emoji" style="width: 40px; height: 40px; font-size: 1.5rem;">${e.emoji}</div>
                        <div class="details">
                            <div class="title" style="font-size: 1rem;">${e.title}</div>
                            <div class="time" style="font-size: 0.8rem;">${e.time}</div>
                        </div>
                    </div>
                `;
            });

            return `
                <div class="bg-layer gradient"></div>
                <div class="content-layer layout-ui">
                    <h1 class="slide-title">Designed for Focus</h1>
                    <div class="phone-mockup">
                        <div class="phone-header"><div class="phone-notch"></div></div>
                        <div class="phone-screen">
                            <h3 style="color: black; font-weight: 700; font-size: 1.5rem; margin-bottom: 10px;">Today</h3>
                            ${screenContent}
                        </div>
                    </div>
                    <div class="watermark light-watermark">
                        <img src="../logo.png" crossorigin="anonymous">
                        <span>Tiempo</span>
                    </div>
                </div>
            `;
        }

        // --- CONTROLS ---

        function generateSlide() {
            const templates = [renderHero, renderFeatures, renderUI];
            const render = getRandom(templates);
            canvas.innerHTML = render();
        }

        function toggleFormat() {
            const btn = document.getElementById('formatBtn');
            if (currentFormat === 'post') {
                currentFormat = 'story';
                canvas.style.height = '1920px';
                btn.textContent = 'Story (9:16)';
            } else {
                currentFormat = 'post';
                canvas.style.height = '1350px';
                btn.textContent = 'Post (4:5)';
            }
            fitCanvas();
        }

        function downloadSlide() {
            html2canvas(canvas, {
                scale: 2,
                useCORS: true,
                backgroundColor: null
            }).then(c => {
                const link = document.createElement('a');
                link.download = `tiempo-marketing-${Date.now()}.png`;
                link.href = c.toDataURL('image/png');
                link.click();
            });
        }

        // Init
        generateSlide();

    </script>
</body>
</html>